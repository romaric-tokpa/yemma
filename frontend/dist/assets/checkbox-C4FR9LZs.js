import{r as n,j as i}from"./index-HtSUDnTk.js";import{u as N}from"./index-Bj3pVA0T.js";import{b as D,c as F,d as G,P as S,u as K,a as j}from"./index-Cy1g_hYl.js";import{a as w}from"./button-12Yyu6sz.js";import{C as U}from"./check-DLml5VHc.js";function W(e){const r=n.useRef({value:e,previous:e});return n.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function X(e){const[r,o]=n.useState(void 0);return D(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const d=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const t=s[0];let u,f;if("borderBoxSize"in t){const c=t.borderBoxSize,p=Array.isArray(c)?c[0]:c;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;o({width:u,height:f})});return d.observe(e,{box:"border-box"}),()=>d.unobserve(e)}else o(void 0)},[e]),r}var g="Checkbox",[$]=F(g),[J,_]=$(g);function Q(e){const{__scopeCheckbox:r,checked:o,children:d,defaultChecked:s,disabled:t,form:u,name:f,onCheckedChange:c,required:p,value:C="on",internal_do_not_use_render:b}=e,[h,v]=K({prop:o,defaultProp:s??!1,onChange:c,caller:g}),[m,x]=n.useState(null),[y,a]=n.useState(null),l=n.useRef(!1),E=m?!!u||!!m.closest("form"):!0,R={checked:h,disabled:t,setChecked:v,control:m,setControl:x,name:f,form:u,value:C,hasConsumerStoppedPropagationRef:l,required:p,defaultChecked:k(s)?!1:s,isFormControl:E,bubbleInput:y,setBubbleInput:a};return i.jsx(J,{scope:r,...R,children:V(b)?b(R):d})}var z="CheckboxTrigger",B=n.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:o,...d},s)=>{const{control:t,value:u,disabled:f,checked:c,required:p,setControl:C,setChecked:b,hasConsumerStoppedPropagationRef:h,isFormControl:v,bubbleInput:m}=_(z,e),x=N(s,C),y=n.useRef(c);return n.useEffect(()=>{const a=t==null?void 0:t.form;if(a){const l=()=>b(y.current);return a.addEventListener("reset",l),()=>a.removeEventListener("reset",l)}},[t,b]),i.jsx(S.button,{type:"button",role:"checkbox","aria-checked":k(c)?"mixed":c,"aria-required":p,"data-state":q(c),"data-disabled":f?"":void 0,disabled:f,value:u,...d,ref:x,onKeyDown:j(r,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:j(o,a=>{b(l=>k(l)?!0:!l),m&&v&&(h.current=a.isPropagationStopped(),h.current||a.stopPropagation())})})});B.displayName=z;var P=n.forwardRef((e,r)=>{const{__scopeCheckbox:o,name:d,checked:s,defaultChecked:t,required:u,disabled:f,value:c,onCheckedChange:p,form:C,...b}=e;return i.jsx(Q,{__scopeCheckbox:o,checked:s,defaultChecked:t,disabled:f,required:u,onCheckedChange:p,name:d,form:C,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(B,{...b,ref:r,__scopeCheckbox:o}),h&&i.jsx(T,{__scopeCheckbox:o})]})})});P.displayName=g;var A="CheckboxIndicator",M=n.forwardRef((e,r)=>{const{__scopeCheckbox:o,forceMount:d,...s}=e,t=_(A,o);return i.jsx(G,{present:d||k(t.checked)||t.checked===!0,children:i.jsx(S.span,{"data-state":q(t.checked),"data-disabled":t.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});M.displayName=A;var O="CheckboxBubbleInput",T=n.forwardRef(({__scopeCheckbox:e,...r},o)=>{const{control:d,hasConsumerStoppedPropagationRef:s,checked:t,defaultChecked:u,required:f,disabled:c,name:p,value:C,form:b,bubbleInput:h,setBubbleInput:v}=_(O,e),m=N(o,v),x=W(t),y=X(d);n.useEffect(()=>{const l=h;if(!l)return;const E=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(E,"checked").set,H=!s.current;if(x!==t&&I){const L=new Event("click",{bubbles:H});l.indeterminate=k(t),I.call(l,k(t)?!1:t),l.dispatchEvent(L)}},[h,x,t,s]);const a=n.useRef(k(t)?!1:t);return i.jsx(S.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??a.current,required:f,disabled:c,name:p,value:C,form:b,...r,tabIndex:-1,ref:m,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T.displayName=O;function V(e){return typeof e=="function"}function k(e){return e==="indeterminate"}function q(e){return k(e)?"indeterminate":e?"checked":"unchecked"}const Y=n.forwardRef(({className:e,...r},o)=>i.jsx(P,{ref:o,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:i.jsx(M,{className:w("flex items-center justify-center text-current"),children:i.jsx(U,{className:"h-4 w-4"})})}));Y.displayName=P.displayName;export{Y as C,W as a,X as u};

import{u as hs,a as ps,r as o,c as E,f as O,j as e,b as gs}from"./index-BVcJJ-d5.js";import{c as fs,B as n}from"./button-ClsMRv7W.js";import{C as y,d as Y,b as V,c as js,a as N}from"./card-YOGN1U3E.js";import{B as L}from"./badge-C6bIiMh0.js";import"./progress-CFiLo9Z9.js";import{T as vs,a as bs,b as te,c as ae}from"./tabs-CbTUJ6Zg.js";import{X as ys}from"./separator-BaIIH9zW.js";import{D as pe,a as ge,b as fe,c as je,d as ve,e as be}from"./dialog-LyPoGEoD.js";import{I as v}from"./input-CaWwssf1.js";import{L as m}from"./label-Cp4a06xu.js";import"./textarea-De9dKZxt.js";import{P as $,U as Pe,R as We}from"./rich-text-editor-D1HCNR-K.js";import{U as Je}from"./users-Q5VhxF1s.js";import{X as Be}from"./x-DI7Frw2C.js";import{M as Ns}from"./menu-CDMf1N02.js";import{H as ws}from"./home-WBx3TMxU.js";import{L as Ds}from"./log-out-BbfAFkyK.js";import{F as Cs}from"./file-check-CGhZxX-z.js";import{P as W}from"./pen-square-B0xWqWyQ.js";import{U as Xe}from"./user-CpvgTgdB.js";import{B as re}from"./briefcase-CqHPOuGd.js";import{G as Me}from"./graduation-cap-h3MXndYj.js";import{A as Re,C as ze}from"./code-DqDetBSO.js";import{M as J}from"./map-pin-BUn6DAxd.js";import{F as B}from"./file-text-VB_391Hf.js";import{L as Ke}from"./loader-2-BwDrzhRd.js";import{I as _s}from"./image-CCqtwMVT.js";import{M as Es}from"./mail-3AKkU4TZ.js";import{P as Ss}from"./phone-CU6NKycH.js";import{C as le}from"./calendar-CpSImUuO.js";import{T as ie}from"./trash-2-BvDkR5ia.js";import{C as Ue}from"./clock-BwRxHXdW.js";import{E as Qe}from"./eye-Bg21dVDP.js";import{B as Ts}from"./bar-chart-3-BO9cQe16.js";import{S as Fs}from"./sparkles-CiBWZRwz.js";import{W as As}from"./wrench-hxTPNuK2.js";import{T as Ze}from"./trending-up-CuFsuwYm.js";import{D as ks}from"./download-DWKclXMu.js";import{C as Is}from"./check-circle-2-9pWl49_Q.js";import"./index-BmV8OPo9.js";import"./index-CEfcVdFk.js";import"./index-DzMVSx9A.js";import"./index-DYD2UsYT.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=fs("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Os=(x,t)=>{const C=`${(x==null?void 0:x[0])||""}${(t==null?void 0:t[0])||""}`.toUpperCase()||"U";return`https://ui-avatars.com/api/?name=${encodeURIComponent(C)}&size=200&background=random&color=fff&bold=true`},Ms=x=>`https://ui-avatars.com/api/?name=${encodeURIComponent(x||"Company")}&size=100&background=random&color=fff&bold=true`;function It(){var $e,Ge;const x=hs(),t=ps(),[C,f]=o.useState(!0),[l,c]=o.useState(!1),[d,_]=o.useState(!0),[r,b]=o.useState(null),[u,S]=o.useState([]),[I,h]=o.useState([]),[F,U]=o.useState([]),[i,w]=o.useState([]),[p,q]=o.useState(null),[A,D]=o.useState([]),[X,ne]=o.useState("overview"),[qe,He]=o.useState(!1),[es,oe]=o.useState(!1),[ss,ce]=o.useState(!1),[ts,de]=o.useState(!1),[as,K]=o.useState(!1),[rs,ye]=o.useState(!1),[ls,Ne]=o.useState(!1),[Ee,we]=o.useState(null),[Se,De]=o.useState(null),[Te,Ce]=o.useState(null),[Fe,me]=o.useState(null),[qs,Hs]=o.useState(!1),[Ae,Ye]=o.useState(!1),[Z,ke]=o.useState(null),[Ve,Ie]=o.useState("CV");o.useEffect(()=>{Q();const s=t.hash.replace("#","");s&&["profile","experiences","educations","certifications","skills","preferences","documents"].includes(s)?ne(s):ne("profile")},[t]),o.useEffect(()=>{r!=null&&r.photo_url&&console.log("Photo URL:",r.photo_url)},[r==null?void 0:r.photo_url]);const[ee,G]=o.useState(!1),[se,xe]=o.useState(null);o.useEffect(()=>{(async()=>{if(!(r!=null&&r.id)){xe(null);return}if(r.photo_url){let a=r.photo_url;if(console.log("Processing photo_url from profile:",a),a&&a.startsWith("/")){const g=a.match(/\/api\/v1\/documents\/serve\/(\d+)/);if(g&&g[1]){const j=parseInt(g[1]);a=O.getDocumentServeUrl(j),console.log("Converted relative URL to full URL:",a,"Document ID:",j)}}if(a&&!a.includes("ui-avatars.com")&&a.trim()!==""){console.log("Setting photo URL from profile.photo_url:",a),xe(a),G(!1);return}}console.log("photo_url not found or invalid, searching for PROFILE_PHOTO document...");try{const g=(await O.getCandidateDocuments(r.id)).filter(j=>(j.document_type==="PROFILE_PHOTO"||j.document_type==="OTHER")&&!j.deleted_at).sort((j,P)=>new Date(P.created_at)-new Date(j.created_at))[0];if(g){const j=O.getDocumentServeUrl(g.id);console.log("Found PROFILE_PHOTO document, using serve URL:",j),xe(j),G(!1),(!r.photo_url||r.photo_url!==j)&&(await E.updateProfile(r.id,{photo_url:j}),console.log("Updated profile.photo_url with:",j))}else console.log("No PROFILE_PHOTO document found"),xe(null)}catch(a){console.error("Error loading photo document:",a),xe(null)}})()},[r==null?void 0:r.id,r==null?void 0:r.photo_url]);const Q=async()=>{var s;try{_(!0);const a=await E.getMyProfile();if(b(a),a.id)try{const[g,j,P,R,z,Oe]=await Promise.all([E.getExperiences(a.id).catch(()=>[]),E.getEducations(a.id).catch(()=>[]),E.getCertifications(a.id).catch(()=>[]),E.getSkills(a.id).catch(()=>[]),E.getJobPreferences(a.id).catch(()=>null),O.getCandidateDocuments(a.id).catch(()=>[])]);S(g||[]),h(j||[]),U(P||[]),w(R||[]),q(z),D(Oe||[])}catch(g){console.error("Error loading relations:",g)}}catch(a){if(console.error("Error loading profile:",a),((s=a.response)==null?void 0:s.status)===404){x("/onboarding");return}}finally{_(!1)}},is=async()=>{if(r!=null&&r.id)try{const s=await O.getCandidateDocuments(r.id);D(s||[])}catch(s){console.error("Error loading documents:",s)}},ns=async()=>{var s,a;if(!Z||!(r!=null&&r.id)){alert("Veuillez sélectionner un fichier");return}if(Z.size>10*1024*1024){alert("Le fichier ne doit pas dépasser 10MB");return}try{Ye(!0),await O.uploadDocument(Z,r.id,Ve),alert("Document ajouté avec succès"),Ne(!1),ke(null),Ie("CV"),await is()}catch(g){console.error("Error uploading document:",g),alert("Erreur lors de l'upload du document: "+(((a=(s=g.response)==null?void 0:s.data)==null?void 0:a.detail)||g.message))}finally{Ye(!1)}},os=()=>{window.confirm("Êtes-vous sûr de vouloir vous déconnecter ?")&&(gs.logout(),x("/login"))},cs=s=>{const a={DRAFT:{label:"Brouillon",className:"bg-gray-100 text-gray-800 border-gray-200",icon:B},SUBMITTED:{label:"Soumis",className:"bg-blue-100 text-blue-800 border-blue-200",icon:Ue},IN_REVIEW:{label:"En cours de validation",className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Ue},VALIDATED:{label:"Validé",className:"text-white",bgColor:"#226D68",borderColor:"#226D68",icon:Is},REJECTED:{label:"Refusé",className:"bg-red-100 text-red-800 border-red-200",icon:ys},ARCHIVED:{label:"Archivé",className:"bg-gray-100 text-gray-800 border-gray-200",icon:B}},g=a[s]||a.DRAFT,j=g.icon;return e.jsxs(L,{className:`${g.className} border flex items-center gap-1.5`,children:[e.jsx(j,{className:"h-3 w-3"}),g.label]})},ds=async s=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette expérience ?"))try{await E.deleteExperience(r.id,s),S(u.filter(a=>a.id!==s))}catch(a){console.error("Error deleting experience:",a),alert("Erreur lors de la suppression")}},ms=async s=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette formation ?"))try{await E.deleteEducation(r.id,s),h(I.filter(a=>a.id!==s))}catch(a){console.error("Error deleting education:",a),alert("Erreur lors de la suppression")}},xs=async s=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette certification ?"))try{await E.deleteCertification(r.id,s),U(F.filter(a=>a.id!==s))}catch(a){console.error("Error deleting certification:",a),alert("Erreur lors de la suppression")}},Le=async s=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette compétence ?"))try{await E.deleteSkill(r.id,s),w(i.filter(a=>a.id!==s))}catch(a){console.error("Error deleting skill:",a),alert("Erreur lors de la suppression")}};if(d)return e.jsx("div",{className:"min-h-screen bg-gray-light flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#226D68"}}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement de votre profil..."})]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-light flex items-center justify-center",children:e.jsxs(y,{className:"w-full max-w-md rounded-[12px] shadow-lg",children:[e.jsxs(Y,{children:[e.jsx(V,{className:"text-center",children:"Profil non trouvé"}),e.jsx(js,{className:"text-center",children:"Vous devez créer votre profil pour accéder au dashboard"})]}),e.jsx(N,{children:e.jsx(n,{className:"w-full text-white",style:{backgroundColor:"#226D68"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#1a5a55"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#226D68"},onClick:()=>x("/onboarding"),children:"Créer mon profil"})})]})});const ue=`${r.first_name||""} ${r.last_name||""}`.trim()||"Candidat";r.completion_percentage;const M=Os(r.first_name,r.last_name),_e=se&&!ee&&!se.includes("ui-avatars.com")?se:M,us=[{id:"overview",label:"Vue d'ensemble",icon:ws}];return e.jsxs("div",{className:"h-screen bg-gray-light flex overflow-hidden max-h-screen",children:[e.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        bg-white border-r border-gray-200
        transition-all duration-300 ease-in-out
        ${C?"w-56 translate-x-0":"w-0 -translate-x-full lg:translate-x-0 lg:w-16"}
        flex flex-col
      `,children:[e.jsxs("div",{className:"h-12 border-b border-gray-200 flex items-center justify-between px-3",children:[C&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{backgroundColor:"#226D68"},children:e.jsx(Je,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"font-bold text-sm text-gray-anthracite font-heading",children:"Yemma"})]}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>f(!C),className:"lg:hidden h-8 w-8",children:C?e.jsx(Be,{className:"w-4 h-4"}):e.jsx(Ns,{className:"w-4 h-4"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-2 space-y-0.5",children:us.map(s=>{const a=s.icon;return e.jsxs(n,{variant:X===s.id?"default":"ghost",className:"w-full justify-start h-9 text-sm px-2",onClick:()=>{ne(s.id),x({hash:`#${s.id}`})},children:[e.jsx(a,{className:"w-3.5 h-3.5 mr-2"}),C&&e.jsx("span",{children:s.label})]},s.id)})}),e.jsxs("div",{className:"border-t border-gray-200 p-2 space-y-2",children:[C&&e.jsxs("div",{className:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-50 transition-colors mb-2",children:[e.jsx("img",{src:_e,alt:ue,className:"w-8 h-8 rounded-full object-cover border border-gray-200",onError:s=>{!ee&&s.target.src!==M?(G(!0),s.target.src=M):s.target.src!==M&&(s.target.src=M)},onLoad:()=>{ee&&se&&G(!1)}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium truncate text-gray-anthracite",children:ue}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.email})]})]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 h-9 text-sm px-2",onClick:os,children:[e.jsx(Ds,{className:"w-3.5 h-3.5 mr-2"}),C&&e.jsx("span",{children:"Déconnexion"})]})]})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>f(!1)}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsx("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 max-w-7xl",children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("img",{src:_e,alt:ue,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover border-2 flex-shrink-0",style:{borderColor:"rgba(34, 109, 104, 0.2)"},onError:s=>{!ee&&s.target.src!==M?(G(!0),s.target.src=M):s.target.src!==M&&(s.target.src=M)},onLoad:()=>{ee&&se&&G(!1)}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold bg-clip-text text-transparent truncate",style:{background:"linear-gradient(to right, #226D68, #1a5a55)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:ue}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mt-0.5",children:[cs(r.status),r.profile_title&&e.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:["• ",r.profile_title]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.status==="DRAFT"&&e.jsxs(n,{size:"sm",className:"text-white h-8 px-2 sm:px-3 text-xs flex items-center gap-1",style:{backgroundColor:"#226D68"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#1a5a55"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#226D68"},onClick:async()=>{var s,a;try{await E.submitProfile(r.id),alert("Profil soumis avec succès !"),Q()}catch(g){alert("Erreur lors de la soumission: "+(((a=(s=g.response)==null?void 0:s.data)==null?void 0:a.detail)||g.message))}},children:[e.jsx(Cs,{className:"w-3.5 h-3.5 sm:mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Soumettre"})]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>x("/profile/edit"),className:"h-8 px-2 sm:px-3 text-xs flex items-center gap-1",children:[e.jsx(W,{className:"w-3.5 h-3.5 sm:mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Modifier"})]})]})]}),e.jsxs(vs,{value:X,onValueChange:s=>{ne(s),x({hash:`#${s}`})},className:"w-full",children:[e.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0 px-3 sm:px-0",children:e.jsxs(bs,{className:"inline-flex w-full sm:grid sm:grid-cols-7 h-auto sm:h-9 bg-white border mb-3 min-w-max sm:min-w-0",children:[e.jsxs(te,{value:"profile",className:"text-xs data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",style:{"--active-bg":"#226D68"},"data-style-active-bg":"#226D68",children:[e.jsx(Xe,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Profil"})]}),e.jsxs(te,{value:"experiences",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(re,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Expériences"}),u.length>0&&e.jsx(L,{variant:"secondary",className:"ml-1.5 h-4 px-1 text-xs",children:u.length})]}),e.jsxs(te,{value:"educations",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(Me,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Formations"}),I.length>0&&e.jsx(L,{variant:"secondary",className:"ml-1.5 h-4 px-1 text-xs",children:I.length})]}),e.jsxs(te,{value:"certifications",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(Re,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Certifications"}),F.length>0&&e.jsx(L,{variant:"secondary",className:"ml-1.5 h-4 px-1 text-xs",children:F.length})]}),e.jsxs(te,{value:"skills",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(ze,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Compétences"}),i.length>0&&e.jsx(L,{variant:"secondary",className:"ml-1.5 h-4 px-1 text-xs",children:i.length})]}),e.jsxs(te,{value:"preferences",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(J,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Préférences"})]}),e.jsxs(te,{value:"documents",className:"text-xs data-[state=active]:bg-[#226D68] data-[state=active]:text-white whitespace-nowrap px-3 sm:px-2 py-2 sm:py-1.5",children:[e.jsx(B,{className:"w-3.5 h-3.5 sm:mr-1.5"}),e.jsx("span",{className:"ml-1.5 sm:ml-0",children:"Documents"}),A.length>0&&e.jsx(L,{variant:"secondary",className:"ml-1.5 h-4 px-1 text-xs",children:A.length})]})]})}),e.jsx(ae,{value:"profile",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4",style:{borderLeftColor:"#226D68"},children:[e.jsx(Y,{className:"border-b py-2 px-3",style:{background:"linear-gradient(to right, rgba(34, 109, 104, 0.05), rgba(34, 109, 104, 0.1))"},children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(Xe,{className:"h-4 w-4 flex-shrink-0",style:{color:"#226D68"}}),e.jsx("span",{className:"truncate",children:"Informations Générales"})]}),e.jsxs(n,{size:"sm",onClick:()=>x("/profile/edit"),className:"bg-[#226D68] hover:bg-[#1a5a55] text-white h-7 px-2 text-xs w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx(W,{className:"h-3.5 w-3.5"}),"Modifier"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start",children:[e.jsxs("div",{className:"relative group self-center sm:self-start",children:[e.jsx("img",{src:_e,alt:ue,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-2 flex-shrink-0",style:{borderColor:"rgba(34, 109, 104, 0.2)"},onError:s=>{console.error("Error loading profile photo:",_e,"Falling back to default avatar"),!ee&&s.target.src!==M?(G(!0),s.target.src=M):s.target.src!==M&&(s.target.src=M)},onLoad:s=>{console.log("Profile photo loaded successfully:",s.target.src),console.log("Was using:",se?"photo URL":"default avatar"),ee&&se&&G(!1)}}),e.jsx("label",{htmlFor:"photo-upload",className:"absolute inset-0 rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer flex items-center justify-center",children:qe?e.jsx(Ke,{className:"h-6 w-6 text-white animate-spin"}):e.jsx(_s,{className:"h-6 w-6 text-white"})}),e.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",disabled:qe||!(r!=null&&r.id),onChange:async s=>{var g,j,P;const a=(g=s.target.files)==null?void 0:g[0];if(!(!a||!(r!=null&&r.id))){if(!a.type.startsWith("image/")){alert("Veuillez sélectionner une image (JPG, PNG)");return}if(a.size>5*1024*1024){alert("La photo ne doit pas dépasser 5MB");return}try{He(!0);const R=await O.uploadProfilePhoto(a,r.id);console.log("Upload profile photo result:",R);let z=R.serve_url;z&&z.startsWith("/")?z=O.getDocumentServeUrl(R.id):R.id&&(z=O.getDocumentServeUrl(R.id)),console.log("Final serve URL:",z),await E.updateProfile(r.id,{photo_url:z}),console.log("Profile updated with photo_url:",z),xe(z),G(!1),await Q(),alert("Photo de profil mise à jour avec succès !")}catch(R){console.error("Error uploading photo:",R),alert("Erreur lors du téléchargement de la photo: "+(((P=(j=R.response)==null?void 0:j.data)==null?void 0:P.detail)||R.message))}finally{He(!1),s.target.value=""}}}})]}),e.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto text-center sm:text-left",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-anthracite mb-1 truncate",children:ue}),r.profile_title&&e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-2 truncate",children:r.profile_title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 justify-center sm:justify-start",children:[r.email&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground justify-center sm:justify-start",children:[e.jsx(Es,{className:"h-3.5 w-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:r.email})]}),r.phone&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground justify-center sm:justify-start",children:[e.jsx(Ss,{className:"h-3.5 w-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:r.phone})]}),(r.city||r.country)&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground justify-center sm:justify-start",children:[e.jsx(J,{className:"h-3.5 w-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:[r.city,r.country].filter(Boolean).join(", ")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 pt-3 border-t",children:[r.date_of_birth&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Date de naissance"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(r.date_of_birth).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.nationality&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Nationalité"}),e.jsx("p",{className:"text-sm font-medium",children:r.nationality})]})]}),r.address&&e.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Adresse"}),e.jsx("p",{className:"text-sm font-medium",children:r.address})]})]}),r.sector&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Secteur d'activité"}),e.jsx("p",{className:"text-sm font-medium",children:r.sector})]})]}),r.main_job&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Métier principal"}),e.jsx("p",{className:"text-sm font-medium",children:r.main_job})]})]}),r.total_experience!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Années d'expérience"}),e.jsxs("p",{className:"text-sm font-medium",children:[r.total_experience," an",r.total_experience>1?"s":""]})]})]})]}),r.professional_summary&&e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-anthracite mb-2 flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Résumé professionnel"]}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",dangerouslySetInnerHTML:{__html:r.professional_summary}})]})]})})]})}),e.jsx(ae,{value:"experiences",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4 border-l-[#226D68]",children:[e.jsx(Y,{className:"bg-gradient-to-r from-[#226D68]/5 to-[#226D68]/10 border-b py-2 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(re,{className:"h-4 w-4 text-[#226D68] flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Expériences professionnelles"})]}),e.jsxs(n,{size:"sm",onClick:()=>{we(null),oe(!0)},className:"bg-[#226D68] hover:bg-[#1a5a55] text-white h-7 px-2 text-xs w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Ajouter"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:u.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:u.map(s=>{const a=Ms(s.company_name),g=s.company_logo_url||a;return e.jsx(y,{className:"rounded-lg shadow-sm hover:shadow-md transition-all border-l-2 border-l-[#226D68]/50 group",children:e.jsx(N,{className:"pt-3 pb-3 px-3",children:e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-start",children:[e.jsx("img",{src:g,alt:s.company_name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg object-cover border border-gray-200 flex-shrink-0",onError:j=>{j.target.src!==a&&(j.target.src=a)}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-gray-anthracite truncate",children:s.position}),e.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:s.company_name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mt-1",children:[s.contract_type&&e.jsx(L,{variant:"secondary",className:"text-xs px-1.5 py-0 h-4",children:s.contract_type}),s.company_sector&&e.jsx(L,{variant:"outline",className:"text-xs px-1.5 py-0 h-4",children:s.company_sector})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1 flex-wrap",children:[e.jsx(le,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"whitespace-nowrap",children:[new Date(s.start_date).toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s.end_date?` - ${new Date(s.end_date).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`:s.is_current?" - Actuellement":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>{we(s),oe(!0)},className:"h-7 w-7 p-0",children:e.jsx(W,{className:"h-3.5 w-3.5 text-blue-600"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>ds(s.id),className:"h-7 w-7 p-0",children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]}),s.description&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Description des missions"}),e.jsx("div",{className:"text-xs text-gray-700 rich-text-content",dangerouslySetInnerHTML:{__html:s.description}})]}),s.achievements&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Réalisations majeures"}),e.jsx("div",{className:"text-xs text-gray-700 rich-text-content",dangerouslySetInnerHTML:{__html:s.achievements}})]}),s.has_document&&s.document_id&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-[#226D68]"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Pièce justificative disponible"})]})})]})]})})},s.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(re,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Aucune expérience enregistrée"}),e.jsxs(n,{size:"sm",className:"mt-3 bg-[#226D68] hover:bg-[#1a5a55] text-white h-8 px-2 text-xs",onClick:()=>oe(!0),children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter une expérience"]})]})})]})}),e.jsx(ae,{value:"educations",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4 border-l-blue-deep",children:[e.jsx(Y,{className:"bg-gradient-to-r from-blue-deep/5 to-blue-deep/10 border-b py-2 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(Me,{className:"h-4 w-4 text-blue-deep flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Formations & Diplômes"})]}),e.jsxs(n,{size:"sm",onClick:()=>{De(null),ce(!0)},className:"bg-blue-deep hover:bg-blue-deep/90 text-white h-7 px-2 text-xs w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Ajouter"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:I.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:I.map(s=>e.jsx(y,{className:"rounded-lg shadow-sm hover:shadow-md transition-all border-l-2 border-l-blue-deep/50 group",children:e.jsx(N,{className:"pt-3 pb-3 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-gray-anthracite truncate",children:s.diploma}),e.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:s.institution}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.level&&e.jsx(L,{variant:"secondary",className:"text-xs px-1.5 py-0 h-4",children:s.level}),s.country&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(J,{className:"w-3 h-3"}),e.jsx("span",{children:s.country})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:s.start_year?`${s.start_year} - ${s.graduation_year}`:s.graduation_year})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>{De(s),ce(!0)},className:"h-7 w-7 p-0",children:e.jsx(W,{className:"h-3.5 w-3.5 text-blue-600"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>ms(s.id),className:"h-7 w-7 p-0",children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]})})},s.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Me,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Aucune formation enregistrée"}),e.jsxs(n,{size:"sm",className:"mt-3 bg-blue-deep hover:bg-blue-deep/90 text-white h-8 px-2 text-xs",onClick:()=>ce(!0),children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter une formation"]})]})})]})}),e.jsx(ae,{value:"certifications",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4 border-l-[#e76f51]",children:[e.jsx(Y,{className:"bg-gradient-to-r from-[#FDF2F0] to-[#FBE5E0] border-b py-2 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(Re,{className:"h-4 w-4 text-[#e76f51] flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Certifications"})]}),e.jsxs(n,{size:"sm",onClick:()=>{Ce(null),de(!0)},className:"bg-[#e76f51] hover:bg-[#d45a3f] text-white h-7 px-2 text-xs w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Ajouter"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:F.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:F.map(s=>e.jsx(y,{className:"rounded-lg shadow-sm hover:shadow-md transition-all border-l-2 border-l-[#e76f51]/50 group",children:e.jsx(N,{className:"pt-3 pb-3 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-gray-anthracite truncate",children:s.title}),e.jsx("p",{className:"text-xs font-medium text-gray-700 truncate",children:s.issuer}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:s.year})]}),s.expiration_date&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#e76f51]",children:[e.jsx(Ue,{className:"w-3 h-3"}),e.jsxs("span",{children:["Expire le ",new Date(s.expiration_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]}),s.certification_id&&e.jsxs(L,{variant:"outline",className:"text-xs px-1.5 py-0 h-4",children:["ID: ",s.certification_id]})]}),s.verification_url&&e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:e.jsxs("a",{href:s.verification_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#e76f51] hover:text-[#c04a2f] hover:underline inline-flex items-center gap-1.5 font-medium",children:[e.jsx(Qe,{className:"h-3.5 w-3.5"}),"Lien de vérification"]})})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>{Ce(s),de(!0)},className:"h-7 w-7 p-0",children:e.jsx(W,{className:"h-3.5 w-3.5 text-blue-600"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>xs(s.id),className:"h-7 w-7 p-0",children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]})})},s.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Re,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Aucune certification enregistrée"}),e.jsxs(n,{size:"sm",className:"mt-3 bg-[#e76f51] hover:bg-[#d45a3f] text-white h-8 px-2 text-xs",onClick:()=>de(!0),children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Ajouter une certification"]})]})})]})}),e.jsxs(ae,{value:"skills",className:"mt-0 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ts,{className:"h-5 w-5 text-[#226D68]"}),"Mes Compétences"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[i.length," compétence",i.length>1?"s":""," au total"]})]}),e.jsxs(n,{size:"sm",onClick:()=>{me(null),K(!0)},className:"bg-[#226D68] hover:bg-[#1a5a55] text-white h-9 px-4 text-sm w-full sm:w-auto flex items-center justify-center gap-2 shadow-sm",children:[e.jsx($,{className:"h-4 w-4"}),"Ajouter une compétence"]})]}),i.length>0?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(()=>{const s=i.filter(a=>a.skill_type==="TECHNICAL");return s.length===0?null:e.jsxs(y,{className:"rounded-xl shadow-md border-l-4 border-l-blue-600 hover:shadow-lg transition-shadow duration-200",children:[e.jsx(Y,{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 border-b pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(ze,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(V,{className:"text-sm font-bold text-blue-900",children:"Compétences techniques"}),e.jsxs("p",{className:"text-xs text-blue-700 mt-0.5",children:[s.length," compétence",s.length>1?"s":""]})]})]})})}),e.jsx(N,{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>e.jsxs("div",{className:"group relative bg-white border border-blue-200 rounded-lg px-3 py-2 hover:border-blue-400 hover:shadow-md transition-all duration-200 flex items-center gap-2 min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-900 truncate",children:a.name}),a.level&&e.jsx(L,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-300 text-xs font-medium px-2 py-0.5 whitespace-nowrap",children:a.level==="BEGINNER"?"Débutant":a.level==="INTERMEDIATE"?"Intermédiaire":a.level==="ADVANCED"?"Avancé":"Expert"})]}),a.years_of_practice>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(le,{className:"h-3 w-3 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[a.years_of_practice," an",a.years_of_practice>1?"s":""," d'expérience"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-blue-50",onClick:()=>{me(a),K(!0)},children:e.jsx(W,{className:"h-3.5 w-3.5 text-blue-600"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-red-50",onClick:()=>Le(a.id),children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]},a.id))})})]})})(),(()=>{const s=i.filter(a=>a.skill_type==="SOFT");return s.length===0?null:e.jsxs(y,{className:"rounded-xl shadow-md border-l-4 border-l-[#226D68] hover:shadow-lg transition-shadow duration-200",children:[e.jsx(Y,{className:"bg-gradient-to-br from-[#E8F4F3] to-[#D1E9E7]/50 border-b pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-[#226D68] rounded-lg",children:e.jsx(Je,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(V,{className:"text-sm font-bold text-[#1a5a55]",children:"Soft Skills"}),e.jsxs("p",{className:"text-xs text-[#1a5a55] mt-0.5",children:[s.length," compétence",s.length>1?"s":""]})]})]})})}),e.jsx(N,{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>e.jsxs("div",{className:"group relative bg-white border border-[#B8DDD9] rounded-lg px-3 py-2.5 hover:border-[#226D68] hover:shadow-md transition-all duration-200 flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-3.5 w-3.5 text-[#226D68] flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-sm text-gray-900",children:a.name})]})}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-[#E8F4F3]",onClick:()=>{me(a),K(!0)},children:e.jsx(W,{className:"h-3.5 w-3.5 text-[#226D68]"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-red-50",onClick:()=>Le(a.id),children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]},a.id))})})]})})(),(()=>{const s=i.filter(a=>a.skill_type==="TOOL");return s.length===0?null:e.jsxs(y,{className:"rounded-xl shadow-md border-l-4 border-l-purple-600 hover:shadow-lg transition-shadow duration-200",children:[e.jsx(Y,{className:"bg-gradient-to-br from-purple-50 to-purple-100/50 border-b pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(As,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(V,{className:"text-sm font-bold text-purple-900",children:"Outils & Logiciels"}),e.jsxs("p",{className:"text-xs text-purple-700 mt-0.5",children:[s.length," outil",s.length>1?"s":""]})]})]})})}),e.jsx(N,{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>e.jsxs("div",{className:"group relative bg-white border border-purple-200 rounded-lg px-3 py-2 hover:border-purple-400 hover:shadow-md transition-all duration-200 flex items-center gap-2 min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-900 truncate",children:a.name}),a.level&&e.jsx(L,{variant:"secondary",className:"bg-purple-100 text-purple-800 border-purple-300 text-xs font-medium px-2 py-0.5 whitespace-nowrap",children:a.level==="BEGINNER"?"Débutant":a.level==="INTERMEDIATE"?"Intermédiaire":a.level==="ADVANCED"?"Avancé":"Expert"})]}),a.years_of_practice>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(le,{className:"h-3 w-3 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[a.years_of_practice," an",a.years_of_practice>1?"s":""," d'expérience"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-purple-50",onClick:()=>{me(a),K(!0)},children:e.jsx(W,{className:"h-3.5 w-3.5 text-purple-600"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-red-50",onClick:()=>Le(a.id),children:e.jsx(ie,{className:"h-3.5 w-3.5 text-red-500"})})]})]},a.id))})})]})})()]}):e.jsx(y,{className:"rounded-xl shadow-md border-2 border-dashed border-gray-300",children:e.jsx(N,{className:"p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(ze,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune compétence enregistrée"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 max-w-sm",children:"Commencez par ajouter vos compétences techniques, soft skills et outils pour enrichir votre profil."}),e.jsxs(n,{size:"default",onClick:()=>K(!0),className:"bg-[#226D68] hover:bg-[#1a5a55] text-white shadow-sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Ajouter ma première compétence"]})]})})})]}),e.jsx(ae,{value:"preferences",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4 border-l-[#226D68]",children:[e.jsx(Y,{className:"bg-gradient-to-r from-[#226D68]/5 to-[#226D68]/10 border-b py-2 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(J,{className:"h-4 w-4 text-[#226D68] flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Préférences d'emploi"})]}),e.jsxs(n,{size:"sm",onClick:()=>ye(!0),className:"bg-[#226D68] hover:bg-[#1a5a55] text-white h-7 px-2 text-xs w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx(W,{className:"h-3.5 w-3.5"}),"Modifier"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:p?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[(($e=p.desired_positions)==null?void 0:$e.length)>0&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-[#226D68]/50 bg-gradient-to-r from-white to-[#226D68]/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:[e.jsx(re,{className:"h-3.5 w-3.5 text-[#226D68]"}),"Postes recherchés"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.desired_positions.map((s,a)=>e.jsx(L,{variant:"secondary",className:"text-xs px-1.5 py-0 h-5",children:s},a))})]})}),p.contract_type&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-blue-deep/50 bg-gradient-to-r from-white to-blue-deep/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1 flex items-center gap-1.5",children:[e.jsx(B,{className:"h-3.5 w-3.5 text-blue-deep"}),"Type de contrat"]}),e.jsx("p",{className:"font-bold text-sm text-gray-anthracite",children:p.contract_type})]})}),((Ge=p.target_sectors)==null?void 0:Ge.length)>0&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-purple-500/50 bg-gradient-to-r from-white to-purple-500/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:[e.jsx(Ze,{className:"h-3.5 w-3.5 text-purple-600"}),"Secteurs ciblés"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.target_sectors.map((s,a)=>e.jsx(L,{variant:"secondary",className:"text-xs px-1.5 py-0 h-5",children:s},a))})]})}),p.desired_location&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-[#e76f51]/50 bg-gradient-to-r from-white to-[#e76f51]/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1 flex items-center gap-1.5",children:[e.jsx(J,{className:"h-3.5 w-3.5 text-[#e76f51]"}),"Localisation souhaitée"]}),e.jsx("p",{className:"font-bold text-sm text-gray-anthracite",children:p.desired_location})]})}),p.mobility&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-blue-deep/50 bg-gradient-to-r from-white to-blue-deep/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1 flex items-center gap-1.5",children:[e.jsx(J,{className:"h-3.5 w-3.5 text-blue-deep"}),"Mobilité"]}),e.jsx("p",{className:"font-bold text-sm text-gray-anthracite",children:p.mobility})]})}),p.availability&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-[#226D68]/50 bg-gradient-to-r from-white to-[#226D68]/5",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1 flex items-center gap-1.5",children:[e.jsx(le,{className:"h-3.5 w-3.5 text-[#226D68]"}),"Disponibilité"]}),e.jsx("p",{className:"font-bold text-sm text-gray-anthracite",children:p.availability})]})}),(p.salary_min||p.salary_max)&&e.jsx(y,{className:"rounded-lg border-l-2 border-l-[#e76f51]/50 bg-gradient-to-r from-white to-[#e76f51]/5 md:col-span-2",children:e.jsxs(N,{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1 flex items-center gap-1.5",children:[e.jsx(Ze,{className:"h-3.5 w-3.5 text-[#e76f51]"}),"Prétentions salariales"]}),e.jsx("p",{className:"font-bold text-lg text-gray-anthracite",children:p.salary_min&&p.salary_max?`${p.salary_min.toLocaleString("fr-FR")} - ${p.salary_max.toLocaleString("fr-FR")} CFA/mois`:p.salary_min?`${p.salary_min.toLocaleString("fr-FR")} CFA/mois`:`${p.salary_max.toLocaleString("fr-FR")} CFA/mois`})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(J,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Aucune préférence enregistrée"}),e.jsxs(n,{size:"sm",className:"mt-3 bg-[#226D68] hover:bg-[#1a5a55] text-white h-8 px-2 text-xs",onClick:()=>ye(!0),children:[e.jsx(J,{className:"h-3.5 w-3.5 mr-1"}),"Définir mes préférences"]})]})})]})}),e.jsx(ae,{value:"documents",className:"mt-0",children:e.jsxs(y,{className:"rounded-[12px] shadow-lg border-l-4 border-l-blue-deep",children:[e.jsx(Y,{className:"bg-gradient-to-r from-blue-deep/5 to-blue-deep/10 border-b py-2 px-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs(V,{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(B,{className:"h-4 w-4 text-blue-deep flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Documents justificatifs"})]}),e.jsxs(n,{onClick:()=>Ne(!0),size:"sm",className:"h-7 px-3 text-xs bg-blue-deep hover:bg-blue-deep/90 w-full sm:w-auto flex items-center justify-center gap-1",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Ajouter un document"]})]})}),e.jsx(N,{className:"p-3 sm:p-4",children:(()=>{const s=A.filter(a=>{var P;if(a.document_type==="PROFILE_PHOTO")return console.log("Excluding profile photo from documents:",a.id,a.original_filename),!1;if(a.document_type==="COMPANY_LOGO")return console.log("Excluding company logo from documents:",a.id,a.original_filename),!1;const g=(P=a.mime_type)==null?void 0:P.startsWith("image/"),j=a.document_type==="OTHER";return g&&j?(console.log("Excluding profile photo (OTHER type) from documents:",a.id,a.original_filename),!1):!0});return console.log("Total documents:",A.length,"Filtered documents:",s.length),s.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.map(a=>{const g=T=>({CV:"Curriculum Vitae",ATTESTATION:"Attestation",CERTIFICATE:"Certificat",RECOMMENDATION_LETTER:"Lettre de recommandation",DIPLOMA:"Diplôme",OTHER:"Autre"})[T]||T,j=T=>({CV:"bg-blue-100 text-blue-800 border-blue-200",ATTESTATION:"bg-[#D1E9E7] text-[#1a5a55] border-[#B8DDD9]",CERTIFICATE:"bg-[#FBE5E0] text-[#c04a2f] border-[#F8D3CA]",RECOMMENDATION_LETTER:"bg-purple-100 text-purple-800 border-purple-200",DIPLOMA:"bg-indigo-100 text-indigo-800 border-indigo-200",OTHER:"bg-gray-100 text-gray-800 border-gray-200"})[T]||"bg-gray-100 text-gray-800 border-gray-200",P=T=>T<1024?`${T} B`:T<1048576?`${(T/1024).toFixed(1)} KB`:`${(T/1024/1024).toFixed(1)} MB`,R=async()=>{var T,H;try{const k=await O.getDocumentViewUrl(a.id);window.open(k.view_url,"_blank")}catch(k){console.error("Error viewing document:",k),alert("Erreur lors de l'ouverture du document: "+(((H=(T=k.response)==null?void 0:T.data)==null?void 0:H.detail)||k.message))}},z=async()=>{var T,H;try{const k=await O.getDocumentViewUrl(a.id),he=document.createElement("a");he.href=k.view_url,he.download=a.original_filename,he.target="_blank",document.body.appendChild(he),he.click(),document.body.removeChild(he)}catch(k){console.error("Error downloading document:",k),alert("Erreur lors du téléchargement du document: "+(((H=(T=k.response)==null?void 0:T.data)==null?void 0:H.detail)||k.message))}},Oe=async()=>{var T,H;if(window.confirm(`Êtes-vous sûr de vouloir supprimer le document "${a.original_filename}" ? Cette action est irréversible.`))try{await O.deleteDocument(a.id),D(A.filter(k=>k.id!==a.id)),alert("Document supprimé avec succès")}catch(k){console.error("Error deleting document:",k),alert("Erreur lors de la suppression du document: "+(((H=(T=k.response)==null?void 0:T.data)==null?void 0:H.detail)||k.message))}};return e.jsx(y,{className:"rounded-lg shadow-sm hover:shadow-md transition-all border-l-2 border-l-blue-deep/50 group",children:e.jsx(N,{className:"pt-3 pb-3 px-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"h-4 w-4 text-blue-deep flex-shrink-0"}),e.jsx("h4",{className:"font-semibold text-sm text-gray-anthracite truncate",children:a.original_filename}),e.jsx(L,{className:`text-xs px-1.5 py-0 h-4 ${j(a.document_type)}`,children:g(a.document_type)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:P(a.file_size)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:a.mime_type}),a.created_at&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),a.status&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(L,{variant:a.status==="uploaded"?"secondary":"outline",className:"text-xs px-1.5 py-0 h-4",children:a.status==="uploaded"?"Téléchargé":a.status})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsxs(n,{variant:"ghost",size:"sm",onClick:R,className:"h-7 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(Qe,{className:"h-3.5 w-3.5 mr-1"}),"Voir"]}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:z,className:"h-7 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),"Télécharger"]}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:Oe,className:"h-7 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(ie,{className:"h-3.5 w-3.5 mr-1"}),"Supprimer"]})]})]})})},a.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(B,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Aucun document enregistré"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:'Cliquez sur "Ajouter un document" pour télécharger vos documents justificatifs'})]})})()})]})})]})]})})}),e.jsx(pe,{open:es,onOpenChange:oe,children:e.jsxs(ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(je,{children:Ee?"Modifier l'expérience professionnelle":"Ajouter une expérience professionnelle"}),e.jsx(ve,{children:Ee?"Modifiez les informations de votre expérience professionnelle":"Remplissez les informations de votre expérience professionnelle"})]}),e.jsx(Rs,{profileId:r==null?void 0:r.id,experience:Ee,onSuccess:async()=>{oe(!1),we(null),await Q()},onCancel:()=>{oe(!1),we(null)}})]})}),e.jsx(pe,{open:ss,onOpenChange:ce,children:e.jsxs(ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(je,{children:Se?"Modifier la formation":"Ajouter une formation"}),e.jsx(ve,{children:Se?"Modifiez les informations de votre formation":"Remplissez les informations de votre formation"})]}),e.jsx(zs,{profileId:r==null?void 0:r.id,education:Se,onSuccess:async()=>{ce(!1),De(null),await Q()},onCancel:()=>{ce(!1),De(null)}})]})}),e.jsx(pe,{open:ts,onOpenChange:de,children:e.jsxs(ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(je,{children:Te?"Modifier la certification":"Ajouter une certification"}),e.jsx(ve,{children:Te?"Modifiez les informations de votre certification":"Remplissez les informations de votre certification"})]}),e.jsx(Us,{profileId:r==null?void 0:r.id,certification:Te,onSuccess:async()=>{de(!1),Ce(null),await Q()},onCancel:()=>{de(!1),Ce(null)}})]})}),e.jsx(pe,{open:as,onOpenChange:K,children:e.jsxs(ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(je,{children:Fe?"Modifier la compétence":"Ajouter une compétence"}),e.jsx(ve,{children:Fe?"Modifiez les informations de votre compétence":"Ajoutez une nouvelle compétence à votre profil"})]}),e.jsx(Ps,{profileId:r==null?void 0:r.id,skill:Fe,onSuccess:async()=>{K(!1),me(null),await Q()},onCancel:()=>{K(!1),me(null)}})]})}),e.jsx(pe,{open:rs,onOpenChange:ye,children:e.jsxs(ge,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsx(je,{children:"Modifier les préférences"}),e.jsx(ve,{children:"Définissez vos préférences de recherche d'emploi"})]}),e.jsx(Bs,{profileId:r==null?void 0:r.id,currentPreferences:p,onSuccess:async()=>{ye(!1),await Q()},onCancel:()=>ye(!1)})]})}),e.jsx(pe,{open:ls,onOpenChange:Ne,children:e.jsxs(ge,{className:"max-w-lg",children:[e.jsxs(fe,{children:[e.jsx(je,{children:"Ajouter un document"}),e.jsx(ve,{children:"Téléchargez un document justificatif (PDF, JPG, PNG - max 10MB)"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"document-type",children:"Type de document *"}),e.jsxs("select",{id:"document-type",value:Ve,onChange:s=>Ie(s.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"CV",children:"Curriculum Vitae"}),e.jsx("option",{value:"ATTESTATION",children:"Attestation"}),e.jsx("option",{value:"CERTIFICATE",children:"Certificat"}),e.jsx("option",{value:"RECOMMENDATION_LETTER",children:"Lettre de recommandation"}),e.jsx("option",{value:"DIPLOMA",children:"Diplôme"}),e.jsx("option",{value:"OTHER",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"document-file",children:"Fichier *"}),e.jsx(v,{id:"document-file",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:s=>{var g;const a=(g=s.target.files)==null?void 0:g[0];if(a){if(a.size>10*1024*1024){alert("Le fichier ne doit pas dépasser 10MB"),s.target.value="";return}ke(a)}},className:"cursor-pointer"}),Z&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Fichier sélectionné: ",Z.name," (",(Z.size/1024/1024).toFixed(2)," MB)"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Formats acceptés: PDF, JPG, PNG. Taille maximale: 10MB"})]})]}),e.jsxs(be,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>{Ne(!1),ke(null),Ie("CV")},disabled:Ae,children:"Annuler"}),e.jsx(n,{type:"button",onClick:ns,disabled:!Z||Ae,className:"bg-blue-deep hover:bg-blue-deep/90",children:Ae?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2 animate-spin"}),"Upload en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Ajouter le document"]})})]})]})})]})}function Rs({profileId:x,experience:t,onSuccess:C,onCancel:f}){const[l,c]=o.useState({companyName:(t==null?void 0:t.company_name)||"",companyLogoUrl:(t==null?void 0:t.company_logo_url)||null,position:(t==null?void 0:t.position)||"",contract_type:(t==null?void 0:t.contract_type)||"",company_sector:(t==null?void 0:t.company_sector)||"",startDate:t!=null&&t.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",endDate:t!=null&&t.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",isCurrent:(t==null?void 0:t.is_current)||!1,description:(t==null?void 0:t.description)||"",achievements:(t==null?void 0:t.achievements)||"",hasDocument:(t==null?void 0:t.has_document)||!1,documentId:(t==null?void 0:t.document_id)||null}),[d,_]=o.useState(!1),[r,b]=o.useState(!1),[u,S]=o.useState(!1);o.useEffect(()=>{c(t?{companyName:t.company_name||"",companyLogoUrl:t.company_logo_url||null,position:t.position||"",contract_type:t.contract_type||"",company_sector:t.company_sector||"",startDate:t.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",endDate:t.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",isCurrent:t.is_current||!1,description:t.description||"",achievements:t.achievements||"",hasDocument:t.has_document||!1,documentId:t.document_id||null}:{companyName:"",companyLogoUrl:null,position:"",contract_type:"",company_sector:"",startDate:"",endDate:"",isCurrent:!1,description:"",achievements:"",hasDocument:!1,documentId:null})},[t]);const I=i=>{const w=i?i.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"CO";return`https://ui-avatars.com/api/?name=${encodeURIComponent(w)}&size=100&background=random&color=fff&bold=true&format=svg`},h=async i=>{var p,q,A;const w=(p=i.target.files)==null?void 0:p[0];if(!(!w||!x)){if(!w.type.startsWith("image/")){alert("Veuillez sélectionner une image (JPG, PNG)");return}if(w.size>2*1024*1024){alert("Le logo ne doit pas dépasser 2MB");return}try{b(!0);const D=await O.uploadDocument(w,x,"OTHER"),X=O.getDocumentServeUrl(D.id);c({...l,companyLogoUrl:X})}catch(D){console.error("Erreur lors de l'upload du logo:",D),alert("Erreur lors de l'upload du logo: "+(((A=(q=D.response)==null?void 0:q.data)==null?void 0:A.detail)||D.message))}finally{b(!1)}}},F=async i=>{var p,q,A;const w=(p=i.target.files)==null?void 0:p[0];if(!(!w||!x)){if(w.size>10*1024*1024){alert("Le document ne doit pas dépasser 10MB");return}try{S(!0);const D=w.name.toLowerCase();let X="OTHER";D.includes("attestation")||D.includes("certificat")?X="ATTESTATION":(D.includes("recommandation")||D.includes("lettre"))&&(X="RECOMMENDATION_LETTER");const ne=await O.uploadDocument(w,x,X);c({...l,documentId:ne.id,hasDocument:!0})}catch(D){console.error("Erreur lors de l'upload du document:",D),alert("Erreur lors de l'upload du document: "+(((A=(q=D.response)==null?void 0:q.data)==null?void 0:A.detail)||D.message))}finally{S(!1)}}},U=async i=>{var w,p,q;if(i.preventDefault(),!!x){if(!l.companyName||!l.position||!l.startDate||!l.description){alert("Veuillez remplir tous les champs obligatoires (Nom de l'entreprise, Poste, Date de début, Description)");return}try{_(!0);const A={company_name:l.companyName,company_logo_url:l.companyLogoUrl,position:l.position,contract_type:l.contract_type||null,company_sector:l.company_sector||null,start_date:new Date(l.startDate).toISOString(),end_date:l.endDate?new Date(l.endDate).toISOString():null,is_current:l.isCurrent||!l.endDate,description:l.description,achievements:l.achievements||null,has_document:l.hasDocument};if(t!=null&&t.id)try{await E.deleteExperience(x,t.id)}catch(D){if(((w=D.response)==null?void 0:w.status)!==404)throw D}await E.createExperience(x,A),C()}catch(A){console.error("Error saving experience:",A),alert("Erreur lors de la sauvegarde de l'expérience: "+(((q=(p=A.response)==null?void 0:p.data)==null?void 0:q.detail)||A.message))}finally{_(!1)}}};return e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4 bg-muted/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l.companyLogoUrl||I(l.companyName),alt:`Logo ${l.companyName||"entreprise"}`,className:"w-16 h-16 rounded-lg object-cover border-2 border-primary",onError:i=>{i.target.src=I(l.companyName)}}),r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(m,{htmlFor:"logo-upload",className:"text-sm font-medium",children:"Logo de l'entreprise (facultatif)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{id:"logo-upload",type:"file",accept:"image/jpeg,image/png,image/jpg",onChange:h,disabled:r,className:"hidden"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("logo-upload"))==null?void 0:i.click()},disabled:r,children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),l.companyLogoUrl?"Changer":"Télécharger"]}),l.companyLogoUrl&&e.jsx(n,{type:"button",variant:"ghost",size:"sm",onClick:()=>c({...l,companyLogoUrl:null}),children:e.jsx(Be,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Formats: JPG, PNG (max 2MB). Si non renseigné, un avatar sera généré."})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"companyName",children:"Nom de l'entreprise *"}),e.jsx(v,{id:"companyName",value:l.companyName,onChange:i=>c({...l,companyName:i.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"position",children:"Poste occupé *"}),e.jsx(v,{id:"position",value:l.position,onChange:i=>c({...l,position:i.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"startDate",children:"Date de début *"}),e.jsx(v,{id:"startDate",type:"date",value:l.startDate,onChange:i=>c({...l,startDate:i.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"endDate",children:"Date de fin"}),e.jsx(v,{id:"endDate",type:"date",value:l.endDate,onChange:i=>c({...l,endDate:i.target.value,isCurrent:!1}),disabled:l.isCurrent}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("input",{type:"checkbox",id:"isCurrent",checked:l.isCurrent,onChange:i=>{c({...l,isCurrent:i.target.checked,endDate:i.target.checked?"":l.endDate})},className:"h-4 w-4 rounded border-gray-300"}),e.jsx(m,{htmlFor:"isCurrent",className:"text-sm cursor-pointer",children:"En cours"})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description des missions *"}),e.jsx(We,{value:l.description,onChange:i=>c({...l,description:i}),placeholder:"Décrivez vos missions et responsabilités..."})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"achievements",children:"Réalisations majeures"}),e.jsx(We,{value:l.achievements,onChange:i=>c({...l,achievements:i}),placeholder:"Listez vos réalisations et accomplissements..."})]}),e.jsx("div",{className:"border rounded-lg p-4 bg-muted/30",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(B,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(m,{htmlFor:"document-upload",className:"text-sm font-medium",children:"Document justificatif (facultatif)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Attestation, certificat de travail, lettre de recommandation, contrat, etc. (PDF, JPG, PNG - max 10MB)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{id:"document-upload",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:F,disabled:u,className:"hidden"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("document-upload"))==null?void 0:i.click()},disabled:u,children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),u?"Upload en cours...":l.documentId?"Changer le document":"Télécharger un document"]}),l.documentId&&e.jsxs(n,{type:"button",variant:"ghost",size:"sm",onClick:async()=>{try{await O.deleteDocument(l.documentId),c({...l,documentId:null,hasDocument:!1})}catch(i){console.error("Erreur lors de la suppression:",i)}},children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]}),l.documentId&&e.jsxs("p",{className:"text-xs text-[#226D68] flex items-center gap-1",children:[e.jsx(B,{className:"w-3 h-3"}),"Document téléchargé avec succès"]})]})]})}),e.jsxs(be,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:f,disabled:d,children:"Annuler"}),e.jsx(n,{type:"submit",disabled:d,children:d?"Enregistrement...":t?"Modifier":"Ajouter"})]})]})}function zs({profileId:x,education:t,onSuccess:C,onCancel:f}){var b;const[l,c]=o.useState({diploma:(t==null?void 0:t.diploma)||"",institution:(t==null?void 0:t.institution)||"",country:(t==null?void 0:t.country)||"",startYear:((b=t==null?void 0:t.start_year)==null?void 0:b.toString())||"",graduationYear:(t==null?void 0:t.graduation_year)||new Date().getFullYear(),level:(t==null?void 0:t.level)||""}),[d,_]=o.useState(!1);o.useEffect(()=>{var u;c(t?{diploma:t.diploma||"",institution:t.institution||"",country:t.country||"",startYear:((u=t.start_year)==null?void 0:u.toString())||"",graduationYear:t.graduation_year||new Date().getFullYear(),level:t.level||""}:{diploma:"",institution:"",country:"",startYear:"",graduationYear:new Date().getFullYear(),level:""})},[t]);const r=async u=>{var S,I;if(u.preventDefault(),!!x)try{_(!0);const h={diploma:l.diploma,institution:l.institution,country:l.country||null,start_year:l.startYear?parseInt(l.startYear):null,graduation_year:l.graduationYear?parseInt(l.graduationYear):null,level:l.level||null};await E.createEducation(x,h),C()}catch(h){console.error("Error creating education:",h),alert("Erreur lors de l'ajout de la formation: "+(((I=(S=h.response)==null?void 0:S.data)==null?void 0:I.detail)||h.message))}finally{_(!1)}};return e.jsxs("form",{onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"diploma",children:"Intitulé du diplôme / formation *"}),e.jsx(v,{id:"diploma",value:l.diploma,onChange:u=>c({...l,diploma:u.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"institution",children:"Établissement *"}),e.jsx(v,{id:"institution",value:l.institution,onChange:u=>c({...l,institution:u.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"country",children:"Pays"}),e.jsx(v,{id:"country",value:l.country,onChange:u=>c({...l,country:u.target.value})})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"startYear",children:"Année de début"}),e.jsx(v,{id:"startYear",type:"number",min:"1950",max:new Date().getFullYear(),value:l.startYear,onChange:u=>c({...l,startYear:u.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"graduationYear",children:"Année d'obtention *"}),e.jsx(v,{id:"graduationYear",type:"number",min:"1950",max:new Date().getFullYear(),value:l.graduationYear,onChange:u=>c({...l,graduationYear:u.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"level",children:"Niveau *"}),e.jsx(v,{id:"level",value:l.level,onChange:u=>c({...l,level:u.target.value}),placeholder:"Bac, Bac+2, Bac+5, etc.",required:!0})]})]}),e.jsxs(be,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:f,disabled:d,children:"Annuler"}),e.jsx(n,{type:"submit",disabled:d,children:d?"Enregistrement...":t?"Modifier":"Ajouter"})]})]})}function Us({profileId:x,onSuccess:t,onCancel:C}){const[f,l]=o.useState({title:(certification==null?void 0:certification.title)||"",issuer:(certification==null?void 0:certification.issuer)||"",year:(certification==null?void 0:certification.year)||new Date().getFullYear(),expirationDate:certification!=null&&certification.expiration_date?new Date(certification.expiration_date).toISOString().split("T")[0]:"",verificationUrl:(certification==null?void 0:certification.verification_url)||"",certificationId:(certification==null?void 0:certification.credential_id)||""}),[c,d]=o.useState(!1);o.useEffect(()=>{certification?l({title:certification.title||"",issuer:certification.issuer||"",year:certification.year||new Date().getFullYear(),expirationDate:certification.expiration_date?new Date(certification.expiration_date).toISOString().split("T")[0]:"",verificationUrl:certification.verification_url||"",certificationId:certification.credential_id||""}):l({title:"",issuer:"",year:new Date().getFullYear(),expirationDate:"",verificationUrl:"",certificationId:""})},[certification]);const _=async r=>{var b,u;if(r.preventDefault(),!!x)try{d(!0);const S={title:f.title,issuer:f.issuer,year:f.year?parseInt(f.year):null,expiration_date:f.expirationDate?new Date(f.expirationDate).toISOString():null,verification_url:f.verificationUrl||null,credential_id:f.certificationId||null};await E.createCertification(x,S),t()}catch(S){console.error("Error creating certification:",S),alert("Erreur lors de l'ajout de la certification: "+(((u=(b=S.response)==null?void 0:b.data)==null?void 0:u.detail)||S.message))}finally{d(!1)}};return e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"title",children:"Intitulé de la certification *"}),e.jsx(v,{id:"title",value:f.title,onChange:r=>l({...f,title:r.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"issuer",children:"Organisme délivreur *"}),e.jsx(v,{id:"issuer",value:f.issuer,onChange:r=>l({...f,issuer:r.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"year",children:"Année d'obtention *"}),e.jsx(v,{id:"year",type:"number",min:"1950",max:new Date().getFullYear(),value:f.year,onChange:r=>l({...f,year:r.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"expirationDate",children:"Date d'expiration"}),e.jsx(v,{id:"expirationDate",type:"date",value:f.expirationDate,onChange:r=>l({...f,expirationDate:r.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"verificationUrl",children:"URL de vérification"}),e.jsx(v,{id:"verificationUrl",type:"url",value:f.verificationUrl,onChange:r=>l({...f,verificationUrl:r.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"certificationId",children:"ID de la certification"}),e.jsx(v,{id:"certificationId",value:f.certificationId,onChange:r=>l({...f,certificationId:r.target.value})})]})]}),e.jsxs(be,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:C,disabled:c,children:"Annuler"}),e.jsx(n,{type:"submit",disabled:c,children:c?"Enregistrement...":certification?"Modifier":"Ajouter"})]})]})}function Ps({profileId:x,skill:t,onSuccess:C,onCancel:f}){const[l,c]=o.useState({name:(t==null?void 0:t.name)||"",skillType:(t==null?void 0:t.skill_type)||"TECHNICAL",level:(t==null?void 0:t.level)||"BEGINNER",yearsOfPractice:(t==null?void 0:t.years_of_practice)||0}),[d,_]=o.useState(!1);o.useEffect(()=>{c(t?{name:t.name||"",skillType:t.skill_type||"TECHNICAL",level:t.level||"BEGINNER",yearsOfPractice:t.years_of_practice||0}:{name:"",skillType:"TECHNICAL",level:"BEGINNER",yearsOfPractice:0})},[t]);const r=async b=>{var u,S,I;if(b.preventDefault(),!!x)try{_(!0);const h={name:l.name,skill_type:l.skillType,level:l.skillType==="SOFT"?null:l.level,years_of_practice:l.skillType==="SOFT"?null:l.yearsOfPractice?parseInt(l.yearsOfPractice):0};if(t!=null&&t.id)try{await E.deleteSkill(x,t.id)}catch(F){if(((u=F.response)==null?void 0:u.status)!==404)throw F}await E.createSkill(x,h),C()}catch(h){console.error("Error saving skill:",h),alert("Erreur lors de la sauvegarde de la compétence: "+(((I=(S=h.response)==null?void 0:S.data)==null?void 0:I.detail)||h.message))}finally{_(!1)}};return e.jsxs("form",{onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"skillType",children:"Type de compétence *"}),e.jsxs("select",{id:"skillType",value:l.skillType,onChange:b=>c({...l,skillType:b.target.value,level:b.target.value==="SOFT"?null:l.level}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"TECHNICAL",children:"Compétence technique"}),e.jsx("option",{value:"SOFT",children:"Compétence comportementale (Soft Skill)"}),e.jsx("option",{value:"TOOL",children:"Outil & Logiciel"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Compétence *"}),e.jsx(v,{id:"name",value:l.name,onChange:b=>c({...l,name:b.target.value}),placeholder:l.skillType==="SOFT"?"Ex: Communication, Leadership...":"Ex: Python, React...",required:!0})]}),l.skillType!=="SOFT"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"level",children:"Niveau *"}),e.jsxs("select",{id:"level",value:l.level,onChange:b=>c({...l,level:b.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"BEGINNER",children:"Débutant"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermédiaire"}),e.jsx("option",{value:"ADVANCED",children:"Avancé"}),e.jsx("option",{value:"EXPERT",children:"Expert"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"yearsOfPractice",children:"Années de pratique"}),e.jsx(v,{id:"yearsOfPractice",type:"number",min:"0",value:l.yearsOfPractice,onChange:b=>c({...l,yearsOfPractice:b.target.value})})]})]}),l.skillType==="SOFT"&&e.jsx("div",{className:"bg-[#226D68]/10 border border-[#226D68]/20 rounded-lg p-3 text-sm text-[#226D68]",children:e.jsx("p",{children:"Les compétences comportementales n'ont pas de niveau ou d'années de pratique."})})]}),e.jsxs(be,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[e.jsx(n,{type:"button",variant:"outline",onClick:f,disabled:d,className:"w-full sm:w-auto",children:"Annuler"}),e.jsx(n,{type:"submit",disabled:d,className:"w-full sm:w-auto",children:d?"Enregistrement...":t?"Modifier":"Ajouter"})]})]})}function Bs({profileId:x,currentPreferences:t,onSuccess:C,onCancel:f}){const[l,c]=o.useState((t==null?void 0:t.desired_positions)||[""]),[d,_]=o.useState({contractType:(t==null?void 0:t.contract_type)||"",desiredLocation:(t==null?void 0:t.desired_location)||"",mobility:(t==null?void 0:t.mobility)||"",availability:(t==null?void 0:t.availability)||"",salaryMin:(t==null?void 0:t.salary_min)||"",salaryMax:(t==null?void 0:t.salary_max)||""}),[r,b]=o.useState(!1),u=()=>{l.length<5&&c([...l,""])},S=h=>{l.length>1&&c(l.filter((F,U)=>U!==h))},I=async h=>{var F,U;if(h.preventDefault(),!!x)try{b(!0);const i={contract_type:d.contractType||null,desired_positions:l.filter(w=>w.trim()).map(w=>w.trim()),desired_location:d.desiredLocation||null,mobility:d.mobility||null,availability:d.availability||null,salary_min:d.salaryMin?parseInt(d.salaryMin):null,salary_max:d.salaryMax?parseInt(d.salaryMax):null};await E.updateJobPreferences(x,i),C()}catch(i){console.error("Error updating preferences:",i),alert("Erreur lors de la mise à jour des préférences: "+(((U=(F=i.response)==null?void 0:F.data)==null?void 0:U.detail)||i.message))}finally{b(!1)}};return e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Poste(s) recherché(s) * (max 5)"}),l.map((h,F)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{value:h,onChange:U=>{const i=[...l];i[F]=U.target.value,c(i)},required:!0}),l.length>1&&e.jsx(n,{type:"button",variant:"outline",onClick:()=>S(F),children:"Supprimer"})]},F)),l.length<5&&e.jsxs(n,{type:"button",variant:"outline",onClick:u,children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Ajouter un poste"]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"contractType",children:"Type de contrat souhaité *"}),e.jsxs("select",{id:"contractType",value:d.contractType,onChange:h=>_({...d,contractType:h.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"CDI",children:"CDI"}),e.jsx("option",{value:"CDD",children:"CDD"}),e.jsx("option",{value:"FREELANCE",children:"Freelance"}),e.jsx("option",{value:"STAGE",children:"Stage"}),e.jsx("option",{value:"ALTERNANCE",children:"Alternance"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"desiredLocation",children:"Localisation souhaitée *"}),e.jsx(v,{id:"desiredLocation",value:d.desiredLocation,onChange:h=>_({...d,desiredLocation:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"mobility",children:"Mobilité géographique"}),e.jsx(v,{id:"mobility",value:d.mobility,onChange:h=>_({...d,mobility:h.target.value})})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"availability",children:"Disponibilité *"}),e.jsxs("select",{id:"availability",value:d.availability,onChange:h=>_({...d,availability:h.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner..."}),e.jsx("option",{value:"IMMEDIATE",children:"Immédiate"}),e.jsx("option",{value:"1_MONTH",children:"1 mois"}),e.jsx("option",{value:"2_MONTHS",children:"2 mois"}),e.jsx("option",{value:"3_MONTHS",children:"3 mois"}),e.jsx("option",{value:"MORE",children:"Plus de 3 mois"})]})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Prétentions salariales * (CFA/mois)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"salaryMin",className:"text-sm font-normal",children:"Minimum (CFA/mois)"}),e.jsx(v,{id:"salaryMin",type:"number",min:"0",placeholder:"Ex: 250000",value:d.salaryMin,onChange:h=>_({...d,salaryMin:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"salaryMax",className:"text-sm font-normal",children:"Maximum (CFA/mois)"}),e.jsx(v,{id:"salaryMax",type:"number",min:"0",placeholder:"Ex: 500000",value:d.salaryMax,onChange:h=>_({...d,salaryMax:h.target.value}),required:!0})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Indiquez la fourchette salariale mensuelle que vous souhaitez (minimum et maximum)"})]}),e.jsxs(be,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:f,disabled:r,children:"Annuler"}),e.jsx(n,{type:"submit",disabled:r,children:r?"Enregistrement...":"Enregistrer"})]})]})}export{It as default};
